<div class="container">
  <label for="date">Select Date:</label>
  <input type="date" (change)="onDateChange($event)" [min]="minDate" [max]="maxDate" />
</div>
<div *ngIf="isDateValid" class="table-list">
  <h3>Tables:</h3>
  <div *ngFor="let table of tables">
    <button (click)="selectTable(table)" class="table-btn">
      Table {{ table.id }} (Seats: {{ table.seats }})
    </button>
  </div>
</div>

<div *ngIf="selectedTable && timeSlots.length > 0">
  <h3>Availability for Table {{ selectedTable.id }} on {{ selectedDate }}:</h3>
  <div>
    <button *ngFor="let slot of timeSlots" class="slot"
      [ngClass]="{ 'reserved': slot.isReserved, 'available': !slot.isReserved }" [disabled]="slot.isReserved"
      (click)="reserveTimeSlot(slot.time)">
      {{ slot.time }} - {{ slot.isReserved ? 'Reserved' : 'Available' }}
    </button>
  </div>
</div>
<div *ngIf="showReservationForm" class="reservation-form">
  <h3>Reservation Form</h3>
  <form (ngSubmit)="submitReservation()">
    <div>
      <label for="customerName">Name:</label>
      <input [(ngModel)]="reservationData.customerName" name="customerName" required />
    </div>
    <div>
      <label for="contact">Contact:</label>
      <input [(ngModel)]="reservationData.contact" name="contact" required />
    </div>
    <div>
      <label for="seats">Seats:</label>
      <input type="number" [(ngModel)]="reservationData.seats" name="seats" [max]="selectedTable?.seats || 0"
        required />
    </div>
    <button type="submit" [disabled]="!isValidDate(selectedDate)">Submit</button>
    <button type="button" (click)="showReservationForm = false">Cancel</button>
  </form>
</div>