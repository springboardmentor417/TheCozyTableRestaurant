<!-- <app-header></app-header> -->
<br>
<br>
<div class="body">
  
  <div class="container">
    <!-- Left Section (Login Form) -->
    <div class="login-section">
      <h1>Cozy Table</h1>
      <h2>Welcome Back</h2>
      <p>Sign in with your Username and password.</p>

      <div class="login-form">
        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
          <!-- Username Field -->
          <div class="mb-3">
            <label for="username">Username</label>
            <input
              id="username"
              type="text"
              class="form-control"
              formControlName="username"
              placeholder="Enter your username"
              required
            />
            <div *ngIf="loginForm.get('username')?.invalid && loginForm.get('username')?.touched" class="text-danger">
              <small *ngIf="loginForm.get('username')?.errors?.['required']">Username is required.</small>
              <small *ngIf="loginForm.get('username')?.errors?.['username']">Invalid Username format.</small>
            </div>
          </div>

          <!-- Password Field -->
          <div class="mb-3">
            <label for="password">Password</label>
            <input
              id="password"
              type="password"
              class="form-control"
              formControlName="password"
              placeholder="********"
              required
            />
            <div *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched" class="text-danger">
              <small *ngIf="loginForm.get('password')?.errors?.['required']">Password is required.</small>
              <small *ngIf="loginForm.get('password')?.errors?.['minlength']">
                Password must be at least 6 characters long.
              </small>
              <small *ngIf="loginForm.get('password')?.errors?.['maxlength']">
                Password cannot exceed 12 characters.
              </small>
              <small *ngIf="loginForm.get('password')?.errors?.['pattern']">
                Password must contain at least one special character and one number.
              </small>
            </div>
          </div>

          <!-- Error Message -->
          <p *ngIf="errorMessage" class="text-danger text-center mt-3">
            {{ errorMessage }}
          </p>

          <!-- Options Section -->
          <div class="options mb-3">
            <label><input type="checkbox" /> Remember me</label>
            <a href="/forgotPass">Forgot Password?</a>
          </div>

          <!-- Submit Button -->
          <button type="submit" class="btn btn-primary w-100" [disabled]="!loginForm.valid">Sign In</button>
        </form>

        <!-- Additional Options -->
        <p class="mt-3">Don't have an account? <a routerLink="/register">Register</a></p>

        <!-- Logout Button -->
        <div *ngIf="isLoggedIn" class="logout-section mt-3">
          <button class="btn btn-danger w-100" (click)="logout()">Logout</button>
        </div>
      </div>
    </div>

    <!-- Right Section (Image Display) -->
    <div class="image-section">
      <img src="assets/CoziLife.png" alt="Delicious Food Display" class="img-fluid" />
    </div>
  </div>
</div>
<br>
<br>
<app-footer></app-footer>